{
  "x-generator": "NSwag v13.20.0.0 (NJsonSchema v10.9.0.0 (Newtonsoft.Json v13.0.0.0))",
  "swagger": "2.0",
  "info": {
    "title": "PockeDeck Battler API",
    "description": "",
    "contact": {
      "name": "Ismail Bennani",
      "url": "http://www.ismailbennani.fr",
      "email": "contact@ismailbennani.fr"
    },
    "version": "v1"
  },
  "host": "localhost:5295",
  "schemes": [
    "http"
  ],
  "paths": {
    "/characters": {
      "get": {
        "tags": [
          "Characters"
        ],
        "operationId": "Characters_GetAll",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "responses": {
          "200": {
            "x-nullable": false,
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/CharacterView"
              }
            }
          }
        }
      }
    },
    "/characters/{name}": {
      "get": {
        "tags": [
          "Characters"
        ],
        "operationId": "Characters_Get",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "type": "string",
            "name": "name",
            "in": "path",
            "required": true,
            "x-nullable": false
          }
        ],
        "responses": {
          "200": {
            "x-nullable": false,
            "description": "",
            "schema": {
              "$ref": "#/definitions/CharacterView"
            }
          }
        }
      }
    },
    "/combats/{id}": {
      "get": {
        "tags": [
          "Combats"
        ],
        "operationId": "Combats_Get",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "type": "string",
            "name": "id",
            "in": "path",
            "required": true,
            "format": "guid",
            "x-nullable": false
          }
        ],
        "responses": {
          "200": {
            "x-nullable": false,
            "description": "",
            "schema": {
              "$ref": "#/definitions/CombatView"
            }
          }
        }
      }
    },
    "/combats": {
      "get": {
        "tags": [
          "Combats"
        ],
        "operationId": "Combats_GetCombatsOfPlayer",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "type": "string",
            "name": "playerName",
            "in": "query",
            "x-nullable": false
          }
        ],
        "responses": {
          "200": {
            "x-nullable": false,
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/PlayerCombatView"
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Combats"
        ],
        "operationId": "Combats_CreateCombat",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "type": "string",
            "name": "playerName",
            "in": "query",
            "x-nullable": false
          }
        ],
        "responses": {
          "200": {
            "x-nullable": false,
            "description": "",
            "schema": {
              "$ref": "#/definitions/CombatInPreparationView"
            }
          }
        }
      }
    },
    "/combats/in-preparation/{id}": {
      "get": {
        "tags": [
          "Combats"
        ],
        "operationId": "Combats_GetCombatInPreparation",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "type": "string",
            "name": "id",
            "in": "path",
            "required": true,
            "format": "guid",
            "x-nullable": false
          }
        ],
        "responses": {
          "200": {
            "x-nullable": false,
            "description": "",
            "schema": {
              "$ref": "#/definitions/CombatInPreparationView"
            }
          }
        }
      },
      "post": {
        "tags": [
          "Combats"
        ],
        "operationId": "Combats_UpdateCombatInPreparation",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "type": "string",
            "name": "id",
            "in": "path",
            "required": true,
            "format": "guid",
            "x-nullable": false
          },
          {
            "type": "string",
            "name": "playerName",
            "in": "query",
            "x-nullable": false
          },
          {
            "name": "request",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UpdateCombatInPreparationRequest"
            },
            "x-nullable": false
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/combats/in-preparation": {
      "get": {
        "tags": [
          "Combats"
        ],
        "operationId": "Combats_GetCombatsInPreparationOfPlayer",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "type": "string",
            "name": "playerName",
            "in": "query",
            "x-nullable": false
          }
        ],
        "responses": {
          "200": {
            "x-nullable": false,
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/CombatInPreparationView"
              }
            }
          }
        }
      }
    },
    "/combats/in-preparation/{id}/leave": {
      "post": {
        "tags": [
          "Combats"
        ],
        "operationId": "Combats_LeaveCombatInPreparation",
        "parameters": [
          {
            "type": "string",
            "name": "id",
            "in": "path",
            "required": true,
            "format": "guid",
            "x-nullable": false
          },
          {
            "type": "string",
            "name": "playerName",
            "in": "query",
            "x-nullable": false
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/combats/{id}/start": {
      "post": {
        "tags": [
          "Combats"
        ],
        "operationId": "Combats_StartCombat",
        "produces": [
          "text/plain",
          "application/json",
          "text/json"
        ],
        "parameters": [
          {
            "type": "string",
            "name": "combatId",
            "in": "query",
            "format": "guid",
            "x-nullable": false
          },
          {
            "type": "string",
            "name": "id",
            "in": "path",
            "required": true,
            "x-nullable": false
          }
        ],
        "responses": {
          "200": {
            "x-nullable": false,
            "description": "",
            "schema": {
              "$ref": "#/definitions/CombatView"
            }
          }
        }
      }
    },
    "/combats/{id}/{side}/play/{index}": {
      "post": {
        "tags": [
          "Combats"
        ],
        "operationId": "Combats_PlayCard",
        "parameters": [
          {
            "type": "string",
            "name": "id",
            "in": "path",
            "required": true,
            "format": "guid",
            "x-nullable": false
          },
          {
            "type": "string",
            "name": "side",
            "in": "path",
            "required": true,
            "x-schema": {
              "$ref": "#/definitions/CombatSide"
            },
            "x-nullable": false,
            "enum": [
              "none",
              "left",
              "right"
            ]
          },
          {
            "type": "integer",
            "name": "index",
            "in": "path",
            "required": true,
            "format": "int32",
            "x-nullable": false
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/combats/{id}/{side}/end-turn": {
      "post": {
        "tags": [
          "Combats"
        ],
        "operationId": "Combats_EndTurn",
        "parameters": [
          {
            "type": "string",
            "name": "id",
            "in": "path",
            "required": true,
            "format": "guid",
            "x-nullable": false
          },
          {
            "type": "string",
            "name": "side",
            "in": "path",
            "required": true,
            "x-schema": {
              "$ref": "#/definitions/CombatSide"
            },
            "x-nullable": false,
            "enum": [
              "none",
              "left",
              "right"
            ]
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    }
  },
  "definitions": {
    "CharacterView": {
      "type": "object",
      "required": [
        "identity",
        "statistics",
        "deck"
      ],
      "properties": {
        "identity": {
          "$ref": "#/definitions/CharacterIdentity"
        },
        "statistics": {
          "$ref": "#/definitions/CharacterStatistics"
        },
        "deck": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ActionCardView"
          }
        }
      }
    },
    "CharacterIdentity": {
      "type": "object",
      "required": [
        "name",
        "displayName"
      ],
      "properties": {
        "name": {
          "type": "string"
        },
        "displayName": {
          "type": "string"
        },
        "description": {
          "type": "string"
        }
      }
    },
    "CharacterStatistics": {
      "type": "object",
      "required": [
        "maxHealth"
      ],
      "properties": {
        "maxHealth": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "ActionCardView": {
      "type": "object",
      "required": [
        "name",
        "apCost",
        "target",
        "mainEffect",
        "additionalEffects"
      ],
      "properties": {
        "name": {
          "type": "string",
          "minLength": 1
        },
        "description": {
          "type": "string"
        },
        "apCost": {
          "type": "integer",
          "format": "int32"
        },
        "target": {
          "$ref": "#/definitions/ActionCardTarget"
        },
        "mainEffect": {
          "$ref": "#/definitions/ActiveEffectView"
        },
        "additionalEffects": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ActiveEffectView"
          }
        }
      }
    },
    "ActionCardTarget": {
      "type": "string",
      "description": "",
      "x-enumNames": [
        "None",
        "Self",
        "OtherAlly",
        "FrontOpponent",
        "BackOpponent",
        "AllOpponents",
        "FrontAlly",
        "BackAlly",
        "AllAllies"
      ],
      "enum": [
        "none",
        "self",
        "otherAlly",
        "frontOpponent",
        "backOpponent",
        "allOpponents",
        "frontAlly",
        "backAlly",
        "allAllies"
      ]
    },
    "ActiveEffectView": {
      "type": "object",
      "discriminator": "type",
      "x-abstract": true,
      "required": [
        "type"
      ],
      "properties": {
        "type": {
          "type": "string"
        }
      }
    },
    "DamageEffectView": {
      "allOf": [
        {
          "$ref": "#/definitions/ActiveEffectView"
        },
        {
          "type": "object",
          "required": [
            "amount",
            "element",
            "lifeStealRatio"
          ],
          "properties": {
            "amount": {
              "type": "integer",
              "format": "int32"
            },
            "element": {
              "$ref": "#/definitions/Element"
            },
            "lifeStealRatio": {
              "type": "number",
              "format": "float"
            }
          }
        }
      ]
    },
    "Element": {
      "type": "string",
      "description": "",
      "x-enumNames": [
        "Neutral",
        "Fire",
        "Earth",
        "Water",
        "Wind"
      ],
      "enum": [
        "neutral",
        "fire",
        "earth",
        "water",
        "wind"
      ]
    },
    "HealEffectView": {
      "allOf": [
        {
          "$ref": "#/definitions/ActiveEffectView"
        },
        {
          "type": "object",
          "required": [
            "amount"
          ],
          "properties": {
            "amount": {
              "type": "integer",
              "format": "int32"
            }
          }
        }
      ]
    },
    "ShieldEffectView": {
      "allOf": [
        {
          "$ref": "#/definitions/ActiveEffectView"
        },
        {
          "type": "object",
          "required": [
            "amount"
          ],
          "properties": {
            "amount": {
              "type": "integer",
              "format": "int32"
            }
          }
        }
      ]
    },
    "AddPassiveEffectView": {
      "allOf": [
        {
          "$ref": "#/definitions/ActiveEffectView"
        },
        {
          "type": "object",
          "required": [
            "passiveEffect"
          ],
          "properties": {
            "passiveEffect": {
              "$ref": "#/definitions/PassiveEffectView"
            }
          }
        }
      ]
    },
    "PassiveEffectView": {
      "type": "object",
      "discriminator": "type",
      "required": [
        "duration",
        "type"
      ],
      "properties": {
        "duration": {
          "type": "integer",
          "format": "int32"
        },
        "type": {
          "type": "string"
        }
      }
    },
    "PassiveStatsModifierView": {
      "allOf": [
        {
          "$ref": "#/definitions/PassiveEffectView"
        },
        {
          "type": "object",
          "required": [
            "statsModifier"
          ],
          "properties": {
            "statsModifier": {
              "$ref": "#/definitions/StatsModifier"
            }
          }
        }
      ]
    },
    "StatsModifier": {
      "type": "object",
      "required": [
        "healthAdditiveModifier",
        "apCostAdditiveModifier",
        "damageAdditiveModifier",
        "damageReductionAdditiveModifier"
      ],
      "properties": {
        "healthAdditiveModifier": {
          "type": "integer",
          "format": "int32"
        },
        "apCostAdditiveModifier": {
          "type": "integer",
          "format": "int32"
        },
        "damageAdditiveModifier": {
          "type": "integer",
          "format": "int32"
        },
        "damageReductionAdditiveModifier": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "TriggeredEffectView": {
      "type": "object",
      "required": [
        "trigger",
        "effect"
      ],
      "properties": {
        "trigger": {
          "$ref": "#/definitions/EffectTriggerView"
        },
        "effect": {
          "$ref": "#/definitions/ActiveEffectView"
        }
      }
    },
    "EffectTriggerView": {
      "type": "object",
      "discriminator": "type",
      "required": [
        "type"
      ],
      "properties": {
        "type": {
          "type": "string"
        }
      }
    },
    "TurnTriggerView": {
      "allOf": [
        {
          "$ref": "#/definitions/EffectTriggerView"
        },
        {
          "type": "object",
          "required": [
            "moment",
            "duration",
            "initialDelay"
          ],
          "properties": {
            "moment": {
              "$ref": "#/definitions/TriggerMoment"
            },
            "duration": {
              "type": "integer",
              "format": "int32"
            },
            "initialDelay": {
              "type": "integer",
              "format": "int32"
            }
          }
        }
      ]
    },
    "TriggerMoment": {
      "type": "string",
      "description": "",
      "x-enumNames": [
        "StartOfSourceTurn",
        "EndOfSourceTurn",
        "StartOfTargetTurn",
        "EndOfTargetTurn"
      ],
      "enum": [
        "startOfSourceTurn",
        "endOfSourceTurn",
        "startOfTargetTurn",
        "endOfTargetTurn"
      ]
    },
    "AddTriggeredEffectView": {
      "allOf": [
        {
          "$ref": "#/definitions/ActiveEffectView"
        },
        {
          "type": "object",
          "required": [
            "triggeredEffect"
          ],
          "properties": {
            "triggeredEffect": {
              "$ref": "#/definitions/TriggeredEffectView"
            }
          }
        }
      ]
    },
    "RandomEffectView": {
      "allOf": [
        {
          "$ref": "#/definitions/ActiveEffectView"
        },
        {
          "type": "object",
          "required": [
            "entries"
          ],
          "properties": {
            "entries": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/RandomEffectEntryView"
              }
            }
          }
        }
      ]
    },
    "RandomEffectEntryView": {
      "type": "object",
      "required": [
        "effect",
        "probability"
      ],
      "properties": {
        "effect": {
          "$ref": "#/definitions/ActiveEffectView"
        },
        "probability": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "CombatView": {
      "allOf": [
        {
          "$ref": "#/definitions/BaseCombatView"
        },
        {
          "type": "object",
          "required": [
            "id",
            "leftSide",
            "rightSide"
          ],
          "properties": {
            "id": {
              "type": "string",
              "format": "guid",
              "minLength": 1
            },
            "leftSide": {
              "$ref": "#/definitions/CombatSideView"
            },
            "rightSide": {
              "$ref": "#/definitions/CombatSideView"
            }
          }
        }
      ]
    },
    "CombatSideView": {
      "allOf": [
        {
          "$ref": "#/definitions/BaseCombatSideView"
        },
        {
          "type": "object"
        }
      ]
    },
    "BaseCombatSideView": {
      "type": "object",
      "x-abstract": true,
      "required": [
        "side",
        "deckSize",
        "frontCharacter"
      ],
      "properties": {
        "side": {
          "$ref": "#/definitions/CombatSide"
        },
        "deckSize": {
          "type": "integer",
          "format": "int32"
        },
        "frontCharacter": {
          "$ref": "#/definitions/CharacterCombatView"
        },
        "backCharacter": {
          "$ref": "#/definitions/CharacterCombatView"
        }
      }
    },
    "CombatSide": {
      "type": "string",
      "description": "",
      "x-enumNames": [
        "None",
        "Left",
        "Right"
      ],
      "enum": [
        "none",
        "left",
        "right"
      ]
    },
    "CharacterCombatView": {
      "type": "object",
      "required": [
        "character",
        "health",
        "passiveEffects",
        "modifiers"
      ],
      "properties": {
        "character": {
          "$ref": "#/definitions/CharacterView"
        },
        "health": {
          "type": "integer",
          "format": "int32"
        },
        "passiveEffects": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/PassiveEffectInstanceView"
          }
        },
        "modifiers": {
          "$ref": "#/definitions/StatsModifier"
        }
      }
    },
    "PassiveEffectInstanceView": {
      "type": "object",
      "required": [
        "id",
        "effect",
        "source",
        "remainingDuration"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "guid"
        },
        "effect": {
          "$ref": "#/definitions/PassiveEffectView"
        },
        "source": {
          "type": "string"
        },
        "remainingDuration": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "BaseCombatView": {
      "type": "object",
      "required": [
        "ongoing",
        "over",
        "turn",
        "currentSide",
        "currentPhase"
      ],
      "properties": {
        "ongoing": {
          "type": "boolean"
        },
        "over": {
          "type": "boolean"
        },
        "turn": {
          "type": "integer",
          "format": "int32"
        },
        "currentSide": {
          "$ref": "#/definitions/CombatSide"
        },
        "currentPhase": {
          "$ref": "#/definitions/CombatSideTurnPhase"
        }
      }
    },
    "CombatSideTurnPhase": {
      "type": "string",
      "description": "",
      "x-enumNames": [
        "None",
        "StartOfTurn",
        "Draw",
        "Play",
        "EndOfTurn"
      ],
      "enum": [
        "none",
        "startOfTurn",
        "draw",
        "play",
        "endOfTurn"
      ]
    },
    "PlayerCombatView": {
      "allOf": [
        {
          "$ref": "#/definitions/BaseCombatView"
        },
        {
          "type": "object",
          "required": [
            "id",
            "player",
            "combat"
          ],
          "properties": {
            "id": {
              "type": "string",
              "format": "guid",
              "minLength": 1
            },
            "player": {
              "$ref": "#/definitions/PlayerSideView"
            },
            "combat": {
              "$ref": "#/definitions/CombatSideView"
            }
          }
        }
      ]
    },
    "PlayerSideView": {
      "allOf": [
        {
          "$ref": "#/definitions/BaseCombatSideView"
        },
        {
          "type": "object",
          "required": [
            "playerName",
            "hand"
          ],
          "properties": {
            "playerName": {
              "type": "string",
              "minLength": 1
            },
            "hand": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/CardInstanceWithModifiersView"
              }
            }
          }
        }
      ]
    },
    "CardInstanceWithModifiersView": {
      "allOf": [
        {
          "$ref": "#/definitions/CardInstanceView"
        },
        {
          "type": "object",
          "required": [
            "baseCard"
          ],
          "properties": {
            "baseCard": {
              "$ref": "#/definitions/ActionCardView"
            }
          }
        }
      ]
    },
    "CardInstanceView": {
      "type": "object"
    },
    "CombatInPreparationView": {
      "type": "object",
      "required": [
        "id",
        "leftPlayerName"
      ],
      "properties": {
        "id": {
          "type": "string",
          "format": "guid"
        },
        "leftPlayerName": {
          "type": "string"
        },
        "leftFrontCharacter": {
          "type": "string"
        },
        "leftBackCharacter": {
          "type": "string"
        },
        "rightPlayerName": {
          "type": "string"
        },
        "rightFrontCharacter": {
          "type": "string"
        },
        "rightBackCharacter": {
          "type": "string"
        }
      }
    },
    "UpdateCombatInPreparationRequest": {
      "type": "object",
      "required": [
        "playerName",
        "frontCharacter",
        "backCharacter"
      ],
      "properties": {
        "playerName": {
          "type": "string",
          "minLength": 1
        },
        "frontCharacter": {
          "type": "string",
          "minLength": 1
        },
        "backCharacter": {
          "type": "string",
          "minLength": 1
        }
      }
    }
  }
}