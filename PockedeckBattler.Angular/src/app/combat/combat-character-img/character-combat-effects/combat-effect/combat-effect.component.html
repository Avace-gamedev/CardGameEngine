<div
  class="border border-1 d-flex align-items-center justify-content-center user-select-none position-relative"
  [ngStyle]="{ 'width.px': sizeInPx, 'height.px': sizeInPx }"
  [stickyPopover]="popoverBody"
  [popoverTitle]="popoverTitle"
  (shown)="popoverVisible = true"
  (hidden)="popoverVisible = false"
>
  <ng-container *ngTemplateOutlet="iconTpl"></ng-container>

  <div
    class="small bg-white border border-secondary-subtle rounded-circle p-2 position-absolute start-100 top-100 translate-middle"
    *ngIf="duration"
  >
    <span class="small position-absolute translate-middle">
      {{ duration }}
    </span>
  </div>
</div>

<ng-template #iconTpl>
  <app-asset-icon [icon]="icon" [size]="iconSize" *ngIf="icon"></app-asset-icon>
  <div class="fw-bold small" *ngIf="!icon">
    <i>{{ name[0] }}</i>
  </div>
</ng-template>
<ng-template #popoverTitle>
  <div class="hstack gap-2">
    <ng-container *ngTemplateOutlet="iconTpl"></ng-container>
    {{ name }}
  </div>
</ng-template>
<ng-template #popoverBody>
  <ng-content></ng-content>
</ng-template>
